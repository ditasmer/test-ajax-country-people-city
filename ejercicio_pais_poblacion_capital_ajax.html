<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style>
		form {width: 350px; border:1px solid grey;padding:20px;margin:auto;}
		label {display: inline-block;width: 100px;}
		td {border:1px solid lightblue; padding:5px;}
		table {margin: auto}
	</style>
	<script>
		window.onload = function() {
			//consulta servicio 
			consultaPaises()
			
			//activar evento onclick de la tabla de paises para consultar datos del pais

		}
		function consultaPaises(){
			alert('consulta pais')
			//llamada ajax 
			//definir los parametros de la peticion
			let parametros = {
				method:'post'
			}
			//servicio
			let servicio = "server_country.php";
			// el servicio va a enviar un json solo con las capitales
			fetch (servicio, parametros)
				.then(function(acuse) {
					if (acuse.ok) {
						//que tipo de respuesta esperamos: text, json. xml, blob En este caso un JSON
						return acuse.json()

					} else {
						console.log(acuse)
						throw("Algo ha ido mal en la petición")

					}			
				})

				.then(function(respuesta){
					//respuesta del servidor
					console.log(respuesta)

				})
					
				 .catch(function(error){
					alert(error);
				})	


		}
	</script>
</head>
<body>
	<form>
		<label></label>
		<table id="pais"></table>
		<br><br>
		<label>Capital</label>
		<input type="text" id='capital' disabled><br>
		<label>Población</label>
		<input type="text" id='poblacion' disabled>
	</form>
</body>
</html>